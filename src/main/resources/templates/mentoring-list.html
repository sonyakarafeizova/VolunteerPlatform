<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head}"></head>
<body>
<div class="wrapper">
  <header th:replace="~{fragments/header}"></header>

  <section class="container">
    <h2>Mentoring List</h2>
    <div th:each="mentoring : ${mentoring}" class="box">
      <h3 th:text="${mentoring.title}">Title</h3>
      <p th:text="${mentoring.description}">Description</p>

      <form th:action="@{'/mentoring/' + ${mentoring.id} + '/favourite'}" method="post">
        <button type="submit" class="btn">Add to Favourites</button>
      </form>

      <form th:action="@{'/mentoring/' + ${mentoring.id} + '/comment'}" method="post">
        <textarea name="content" placeholder="Leave a comment..." required></textarea>
        <button id="postComment" type="submit">Comment</button>
      </form>

      <!-- Comments block OUTSIDE form -->
      <div th:each="comment : ${mentoring.comments}" class="profile-causes">
        <p>
          <strong th:text="${comment.author.username}">Author</strong>:
          <span th:text="${comment.textContent}">Content</span>
        </p>
      </div>
    </div>
  </section>

  <footer th:replace="~{fragments/footer}"></footer>
</div>
</body>
</html>
